<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Summary of Bayesian multivariate-response mediation-models — mediation • bayestestR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Summary of Bayesian multivariate-response mediation-models — mediation" />
<meta property="og:description" content="mediation() is a short summary for multivariate-response
mediation-models, i.e. this function computes average direct and average
causal mediation effects of multivariate response models." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-97457476-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-97457476-7');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bayestestR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Features</a>
</li>
<li>
  <a href="../articles/bayestestR.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/example1.html">1. Initiation to Bayesian models</a>
    </li>
    <li>
      <a href="../articles/example2.html">2. Confirmation of Bayesian skills</a>
    </li>
    <li>
      <a href="../articles/example3.html">3. Become a Bayesian master</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/credible_interval.html">Credible Intervals (CI)</a>
    </li>
    <li>
      <a href="../articles/region_of_practical_equivalence.html">Region of Practical Equivalence (ROPE)</a>
    </li>
    <li>
      <a href="../articles/probability_of_direction.html">Probability of Direction (pd)</a>
    </li>
    <li>
      <a href="../articles/bayes_factors.html">Bayes Factors (BF)</a>
    </li>
    <li>
      <a href="../articles/indicesEstimationComparison.html">Comparison of Point-Estimates</a>
    </li>
    <li>
      <a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2019.02767/full">Comparison of Indices of Effect Existence</a>
    </li>
    <li>
      <a href="../articles/mediation.html">Mediation Analysis: Direct and Indirect Effects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/guidelines.html">Guidelines</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/easystats/bayestestR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summary of Bayesian multivariate-response mediation-models</h1>
    <small class="dont-index">Source: <a href='https://github.com/easystats/bayestestR/blob/master/R/mediation.R'><code>R/mediation.R</code></a></small>
    <div class="hidden name"><code>mediation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>mediation()</code> is a short summary for multivariate-response
mediation-models, i.e. this function computes average direct and average
causal mediation effects of multivariate response models.</p>
    </div>

    <pre class="usage"><span class='fu'>mediation</span><span class='op'>(</span><span class='va'>model</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for brmsfit</span>
<span class='fu'>mediation</span><span class='op'>(</span>
  <span class='va'>model</span>,
  <span class='va'>treatment</span>,
  <span class='va'>mediator</span>,
  response <span class='op'>=</span> <span class='cn'>NULL</span>,
  centrality <span class='op'>=</span> <span class='st'>"median"</span>,
  ci <span class='op'>=</span> <span class='fl'>0.95</span>,
  method <span class='op'>=</span> <span class='st'>"ETI"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for stanmvreg</span>
<span class='fu'>mediation</span><span class='op'>(</span>
  <span class='va'>model</span>,
  <span class='va'>treatment</span>,
  <span class='va'>mediator</span>,
  response <span class='op'>=</span> <span class='cn'>NULL</span>,
  centrality <span class='op'>=</span> <span class='st'>"median"</span>,
  ci <span class='op'>=</span> <span class='fl'>0.95</span>,
  method <span class='op'>=</span> <span class='st'>"ETI"</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>A <code>brmsfit</code> or <code>stanmvreg</code> object.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not used.</p></td>
    </tr>
    <tr>
      <th>treatment</th>
      <td><p>Character, name of the treatment variable (or direct effect)
in a (multivariate response) mediator-model. If missing, <code>mediation()</code>
tries to find the treatment variable automatically, however, this may fail.</p></td>
    </tr>
    <tr>
      <th>mediator</th>
      <td><p>Character, name of the mediator variable in a (multivariate
response) mediator-model. If missing, <code>mediation()</code> tries to find the
treatment variable automatically, however, this may fail.</p></td>
    </tr>
    <tr>
      <th>response</th>
      <td><p>A named character vector, indicating the names of the response
variables to be used for the mediation analysis. Usually can be <code>NULL</code>,
in which case these variables are retrieved automatically. If not <code>NULL</code>,
names should match the names of the model formulas,
<code>names(insight::find_response(model, combine = TRUE))</code>. This can be
useful if, for instance, the mediator variable used as predictor has a different
name from the mediator variable used as response. This might occur when the
mediator is transformed in one model, but used "as is" as response variable
in the other model. Example: The mediator <code>m</code> is used as response variable,
but the centered version <code>m_center</code> is used as mediator variable. The
second response variable (for the treatment model, with the mediator as
additional predictor), <code>y</code>, is not transformed. Then we could use
<code>response</code> like this: <code>mediation(model, response = c(m = "m_center", y = "y"))</code>.</p></td>
    </tr>
    <tr>
      <th>centrality</th>
      <td><p>The point-estimates (centrality indices) to compute.  Character (vector) or list with one or more of these options: <code>"median"</code>, <code>"mean"</code>, <code>"MAP"</code> or <code>"all"</code>.</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>Value or vector of probability of the CI (between 0 and 1)
to be estimated. Default to <code>.95</code> (<code>95%</code>).</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Can be <a href='eti.html'>'ETI'</a> (default), <a href='hdi.html'>'HDI'</a>, <a href='bci.html'>'BCI'</a> or <a href='si.html'>'SI'</a>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with direct, indirect, mediator and
total effect of a multivariate-response mediation-model, as well as the
proportion mediated. The effect sizes are median values of the posterior
samples (use <code>centrality</code> for other centrality indices).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>mediation()</code> returns a data frame with information on the
<em>direct effect</em> (mean value of posterior samples from <code>treatment</code>
of the outcome model), <em>mediator effect</em> (mean value of posterior
samples from <code>mediator</code> of the outcome model), <em>indirect effect</em>
(mean value of the multiplication of the posterior samples from
<code>mediator</code> of the outcome model and the posterior samples from
<code>treatment</code> of the mediation model) and the total effect (mean
value of sums of posterior samples used for the direct and indirect
effect). The <em>proportion mediated</em> is the indirect effect divided
by the total effect.
<br /> <br />
For all values, the <code>89%</code> credible intervals are calculated by default.
Use <code>ci</code> to calculate a different interval.
<br /> <br />
The arguments <code>treatment</code> and <code>mediator</code> do not necessarily
need to be specified. If missing, <code>mediation()</code> tries to find the
treatment and mediator variable automatically. If this does not work,
specify these variables.
<br /> <br />
The direct effect is also called <em>average direct effect</em> (ADE),
the indirect effect is also called <em>average causal mediation effects</em>
(ACME). See also <cite>Tingley et al. 2014</cite> and <cite>Imai et al. 2010</cite>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>There is an <code><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame()</a></code> method that returns the posterior
samples of the effects, which can be used for further processing in the
different <span class="pkg">bayestestR</span> package.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Imai, K., Keele, L. and Tingley, D. (2010) A General Approach to Causal
Mediation Analysis, Psychological Methods, Vol. 15, No. 4 (December), pp.
309-334.</p></li>
<li><p>Tingley, D., Yamamoto, T., Hirose, K., Imai, K. and Keele, L. (2014).
mediation: R package for Causal Mediation Analysis, Journal of Statistical
Software, Vol. 59, No. 5, pp. 1-38.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>The <span class="pkg">mediation</span> package for a causal mediation analysis in
the frequentist framework.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://imai.princeton.edu/projects/mechanisms.html'>mediation</a></span><span class='op'>)</span></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/paul-buerkner/brms'>brms</a></span><span class='op'>)</span></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://mc-stan.org/rstanarm/'>rstanarm</a></span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># load sample data</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>jobs</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># linear models, for mediation analysis</span></span>
<span class='r-in'><span class='va'>b1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>job_seek</span> <span class='op'>~</span> <span class='va'>treat</span> <span class='op'>+</span> <span class='va'>econ_hard</span> <span class='op'>+</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span>, data <span class='op'>=</span> <span class='va'>jobs</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>b2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>depress2</span> <span class='op'>~</span> <span class='va'>treat</span> <span class='op'>+</span> <span class='va'>job_seek</span> <span class='op'>+</span> <span class='va'>econ_hard</span> <span class='op'>+</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span>, data <span class='op'>=</span> <span class='va'>jobs</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'># mediation analysis, for comparison with Stan models</span></span>
<span class='r-in'><span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mediation/man/mediate.html'>mediate</a></span><span class='op'>(</span><span class='va'>b1</span>, <span class='va'>b2</span>, sims <span class='op'>=</span> <span class='fl'>1000</span>, treat <span class='op'>=</span> <span class='st'>"treat"</span>, mediator <span class='op'>=</span> <span class='st'>"job_seek"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Fit Bayesian mediation model in brms</span></span>
<span class='r-in'><span class='va'>f1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/brms/man/brmsformula.html'>bf</a></span><span class='op'>(</span><span class='va'>job_seek</span> <span class='op'>~</span> <span class='va'>treat</span> <span class='op'>+</span> <span class='va'>econ_hard</span> <span class='op'>+</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>f2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/brms/man/brmsformula.html'>bf</a></span><span class='op'>(</span><span class='va'>depress2</span> <span class='op'>~</span> <span class='va'>treat</span> <span class='op'>+</span> <span class='va'>job_seek</span> <span class='op'>+</span> <span class='va'>econ_hard</span> <span class='op'>+</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/brms/man/brm.html'>brm</a></span><span class='op'>(</span><span class='va'>f1</span> <span class='op'>+</span> <span class='va'>f2</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/pkg/brms/man/brmsformula-helpers.html'>set_rescor</a></span><span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span>, data <span class='op'>=</span> <span class='va'>jobs</span>, cores <span class='op'>=</span> <span class='fl'>4</span>, refresh <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Fit Bayesian mediation model in rstanarm</span></span>
<span class='r-in'><span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://mc-stan.org/rstanarm/reference/stan_mvmer.html'>stan_mvmer</a></span><span class='op'>(</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span></span>
<span class='r-in'>    <span class='va'>job_seek</span> <span class='op'>~</span> <span class='va'>treat</span> <span class='op'>+</span> <span class='va'>econ_hard</span> <span class='op'>+</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>|</span> <span class='va'>occp</span><span class='op'>)</span>,</span>
<span class='r-in'>    <span class='va'>depress2</span> <span class='op'>~</span> <span class='va'>treat</span> <span class='op'>+</span> <span class='va'>job_seek</span> <span class='op'>+</span> <span class='va'>econ_hard</span> <span class='op'>+</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>|</span> <span class='va'>occp</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='op'>)</span>,</span>
<span class='r-in'>  data <span class='op'>=</span> <span class='va'>jobs</span>,</span>
<span class='r-in'>  cores <span class='op'>=</span> <span class='fl'>4</span>,</span>
<span class='r-in'>  refresh <span class='op'>=</span> <span class='fl'>0</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>mediation</span><span class='op'>(</span><span class='va'>m2</span>, centrality <span class='op'>=</span> <span class='st'>"mean"</span>, ci <span class='op'>=</span> <span class='fl'>.95</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>mediation</span><span class='op'>(</span><span class='va'>m3</span>, centrality <span class='op'>=</span> <span class='st'>"mean"</span>, ci <span class='op'>=</span> <span class='fl'>.95</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://dominiquemakowski.github.io/'>Dominique Makowski</a>, <a href='https://github.com/strengejacke'>Daniel Lüdecke</a>, <a href='https://github.com/mattansb'>Mattan S. Ben-Shachar</a>, <a href='https://sites.google.com/site/indrajeetspatilmorality/'>Indrajeet Patil</a>, <a href='http://www.humanfactors.io'>Michael D. Wilson</a>, Brenton M. Wiernik.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


